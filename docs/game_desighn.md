## Документ с описанием механик на данный момент

### Персонаж 

Управление wasd/стрелочки
Скорее всего потребуется отмена предыдущего хода на z.
Коробко-толкательное управление персонажем

Предположительно за персонажем следует меловой след, который показыает, где он был.


### Дверь

Начало уровня, игрок начинает уровень стоя на этом поле.
Если он касается этого поля еще раз, то уходит с уровня.
При отсутствии сокровища это провал. 

### Сокровище

Поле, после касания которого начинается вторая фаза пазла.
Ни на этом поле, ни на поле двери не может находиться тень.

### Тень/Рука

Главная механика пазла.
Путь от двери до пазла запомнинается, после чего когда игрок касается сокровища
рука проходит по полям на которых был игрок, учитывая следующие правила:

- рука не касается полей сокровища и двери, останавливаясь перед ними
- если в пути игрока был нетривиальный цикл (в цикле есть облась полей), то 
    все пройденные поля в цикле перестают быть отмечеными
- часть пути может быть циклом только тогда, когда одна и та же клетка была
    посещена игроком больше одного раза
- в будущем поля, которые оказались в цикле, будут активироваться, и как-то взаимодействовать
    с объектами внутри
- вероятно после начала второй фазы рука будет преследовать игрока, не давая ему встать на 
    одно и то же поле дважды


## Вероятно будет позже

### Коробка

Коробка, которая может толкаться. Нельзя толкать на стены и на участки руки.
Вероятно будет взаимодействие, если будет в центре цикла.

### Рычаг + стены

При касании рычага тайл со стеной опускается/открывается.
Если рычаг был в центре цикла, то активируется.

